{% extends "base.html" %}

{% block title %}Opruimen - Mail Organizer{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="mb-6">
        <a href="{{ url_for('mail_organizer.main') }}"
           class="text-white-400 hover:text-blue-300 transition-colors inline-flex items-center">
            ← Terug naar overzicht
        </a>
    </div>

    <div class="text-left mb-8">
        <h1 class="text-4xl font-bold text-white mb-4">Automatische Mappen Opruimen</h1>
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="mb-6">
                {% for category, message in messages %}
                    <div class="{% if category == 'error' %}bg-red-500{% else %}bg-yellow-500{% endif %} bg-opacity-20 border {% if category == 'error' %}border-red-400 text-red-100{% else %}border-yellow-400 text-yellow-100{% endif %} px-4 py-3 rounded mb-3">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <!-- Warning -->
    <div class="bg-red-500 bg-opacity-20 border border-red-400 text-red-100 p-6 rounded-lg mb-6">
        <h4 class="text-lg font-semibold text-red-200 mb-3">⚠️ Waarschuwing</h4>
        <p class="mb-2">Deze actie zal:</p>
        <ul class="space-y-2 ml-4">
            <li>• Alle mappen met suffix [AUTO] verwijderen</li>
            <li>• Alle mails uit deze mappen terugplaatsen naar de inbox</li>
            <li>• Handmatig aangemaakte mappen blijven behouden</li>
        </ul>
    </div>

    <!-- Information -->
    <div class="app-card rounded-2xl p-6 mb-6">
        <h3 class="text-xl font-semibold text-white mb-6 border-b border-blue-400 pb-3">
            Wat gebeurt er?
        </h3>

        <div class="space-y-4 text-gray-200">
            <p>
                Deze functie verwijdert alleen mappen die automatisch zijn aangemaakt door de Mail Organizer.
                Deze mappen zijn te herkennen aan de [AUTO] suffix.
            </p>
            <p>
                Alle mails in deze mappen worden eerst veilig teruggeplaatst naar je inbox voordat de mappen worden verwijderd.
            </p>
            <p class="text-green-300">
                ✓ Handmatig aangemaakte mappen blijven volledig intact
            </p>
        </div>
    </div>

    <form method="POST" class="text-center">
        <button type="submit"
                class="bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-lg font-medium transition-all hover:scale-105"
                onclick="return confirm('Weet je zeker dat je alle [AUTO] mappen wilt verwijderen?');">
            Bevestig Opruimen
        </button>
    </form>
</div>
{% endblock %}
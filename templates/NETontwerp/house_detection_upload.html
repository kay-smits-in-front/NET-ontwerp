{% extends "base.html" %}

{% block title %}Huizen Detectie - NETontwerp{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="mb-6">
        <a href="{{ url_for('NETontwerp.main') }}"
           class="text-white-400 hover:text-blue-300 transition-colors inline-flex items-center">
            ← Terug naar overzicht
        </a>
    </div>

    <div class="text-left mb-8">
        <h1 class="text-4xl font-bold text-white mb-4">Huizen Detectie vanuit Screenshot</h1>
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="mb-6">
                {% for category, message in messages %}
                    <div class="bg-red-500 bg-opacity-20 border border-red-400 text-red-100 px-4 py-3 rounded mb-3">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <div class="app-card rounded-2xl p-6 mb-6">
        <h3 class="text-xl font-semibold text-white mb-6 border-b border-blue-400 pb-3">
            Upload Screenshot
        </h3>

        <div class="space-y-4 text-gray-200 mb-6">
            <p>Upload een screenshot van het Lovion netwerk overzicht.</p>
            <p class="text-sm">Het systeem detecteert automatisch huizen (polygonen) in de afbeelding.</p>
        </div>

        <form method="POST" enctype="multipart/form-data">
            <div class="mb-6">
                <label for="screenshot" class="block text-gray-200 font-medium mb-2">
                    Screenshot (PNG/JPG):
                </label>
                <input type="file"
                       id="screenshot"
                       name="screenshot"
                       accept=".png,.jpg,.jpeg"
                       required
                       class="w-full px-3 py-2 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400">
            </div>

            <div class="text-center">
                <button type="submit"
                        class="bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-medium transition-all hover:scale-105">
                    Detecteer Huizen
                </button>
            </div>
        </form>
    </div>

    <div class="bg-blue-500 bg-opacity-20 border border-blue-400 text-blue-100 p-6 rounded-lg">
        <h4 class="text-lg font-semibold text-blue-200 mb-3">Wat gebeurt er:</h4>
        <ul class="space-y-2 text-blue-100">
            <li>• Automatische detectie van huizen (gesloten polygonen)</li>
            <li>• Tellen van totaal aantal huizen</li>
            <li>• Visualisatie met groene kaders rond gedetecteerde huizen</li>
            <li>• Volgende stap: straten toewijzen en kabels berekenen</li>
        </ul>
    </div>
</div>
{% endblock %}
